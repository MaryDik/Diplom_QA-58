# План автоматизации веб-формы приложения «Путешествие дня»

## Входные данные:

<details> <summary>Развернуть список:</summary>

**Валидные карты для тестирования:**

- 4444 4444 4444 4441, status APPROVED
- 4444 4444 4444 4442, status DECLINED

**Валидные данные для карт:**

- Номер карты из 16 цифр
- Месяц в формате от 01 до 12 (не раньше текущего месяца в текущем году)
- Год в формате двух последних цифр полного номера года(например: 24, 25 и т. д.)
- Владелец в формате двух слов (Имя и Фамилия) буквами латинского алфавита
- CVC в формате 3-х цифр

**Валидные данные срока действия карты устанавливаются не ранее текущей даты и не старше 5 лет от текущей даты.**
</details>

## 1. Перечень автоматизируемых сценариев:

### Позитивные сценарии:

<details> <summary>Развернуть список:</summary>

**1. Сценарий покупки тура через кнопку "Купить" с главной страницы сервиса**

**Тест-кейс 1.1:** Удачная покупка тура при оплате картой с валидным номером и достаточным количеством средств на счете:

Шаг 1: Открыть главную страницу сервиса http://localhost:8080/

Шаг 2: Нажать кнопку "Купить"

Шаг 3: Заполнить все поля валидными данными карты с достаточным количеством средств на счете (Номер карты -
4444 4444 4444 4441, Месяц - 07, Год - 24, Владелец – Ivan Sidorov, CVC/CVV - 545)

Шаг 4: Нажать кнопку "Продолжить"

**_Ожидаемый результат:_** В правом верхнем углу появляется сообщение "Успешно. Операция одобрена банком"

**Тест-кейс 1.2:** Отклонение покупки тура при оплате картой с валидным номером, но с недостаточным количеством средств
на счете

Шаг 1: Открыть главную страницу сервиса http://localhost:8080/

Шаг 2: Нажать кнопку "Купить"

Шаг 3: Заполнить все поля валидными данными карты с достаточным количеством средств на счете (Номер карты - 4444 4444
4444 4441, Месяц - 07, Год - 24, Владелец – Ivan Sidorov, CVC/CVV - 545)

Шаг 4: Нажать кнопку "Продолжить"

**_Ожидаемый результат:_** В правом верхнем углу появляется сообщение "Ошибка! Банк отказал в проведении операции"

**2. Сценарий покупки тура через кнопку "Купить в кредит" с главной страницы сервиса**

**Тест-кейс 2.1:** Удачная покупка тура в кредит при оплате картой с валидным номером и достаточным кредитным лимитом

Шаг 1: Открыть главную страницу сервиса http://localhost:8080/

Шаг 2: Нажать кнопку "Купить в кредит"

Шаг 3: Заполнить все поля валидными данными карты с достаточным количеством средств на счете (Номер карты - 4444 4444
4444 4441, Месяц - 07, Год - 24, Владелец – Ivan Sidorov, CVC/CVV - 545)

Шаг 4: Нажать кнопку "Продолжить"

**_Ожидаемый результат:_** В правом верхнем углу появляется сообщение "Успешно. Операция одобрена банком"

**Тест-кейс 2.2:** Отклонение покупки тура в кредит при оплате картой с валидным номером, но с недостаточным кредитным
лимитом

Шаг 1: Открыть главную страницу сервиса http://localhost:8080/

Шаг 2: Нажать кнопку "Купить в кредит"

Шаг 3: Заполнить все поля валидными данными карты с достаточным количеством средств на счете (Номер карты - 4444 4444
4444 4442, Месяц - 07, Год - 24, Владелец – Ivan Sidorov, CVC/CVV - 545)

Шаг 4: Нажать кнопку "Продолжить"

**_Ожидаемый результат:_** В правом верхнем углу появляется сообщение "Ошибка! Банк отказал в проведении операции"
</details>

### Негативные сценарии:

<details> <summary>Развернуть список:</summary>

*_Предусловие:_*

1. Перед выполнением всех сценариев необходимо открыть главную страницу сервиса http://localhost:8080/
2. Сценарии одинаковые как для покупки тура обычной дебетовой картой, так и для покупки в кредит
3. Для сценария покупки тура с помощью дебетовой карты необходимо нажать на кнопку "Купить"
4. Для сценария покупки тура в кредит необходимо нажать на кнопку "Купить в кредит"

**Тест-кейс 1:** Отправка пустой формы заявки покупки тура

Шаг 1: Оставить все поля пустыми

Шаг 2: Нажать кнопку "Продолжить"

**_Ожидаемый результат:_** Отображаются ошибки под полями ввода "Поле обязательно для заполнения"

**Тест-кейс 2:** Отправка формы заявки с полем "Владелец" на кириллице

Шаг 1: В поле "Владелец" вводим имя и фамилию на кириллице (Иван Сидоров)

Шаг 2: Остальные поля заполняем валидными данными (Номер карты - 4444 4444 4444 4441, Месяц - 07, Год - 24, CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка под полем ввода "Неверный формат"

**Тест-кейс 3:** Отправка формы заявки с одним словом на латинице в поле "Владелец"

Шаг 1: В поле "Владелец" вводим только имя на латинице (Ivan)

Шаг 2: Остальные поля заполняем валидными данными (Номер карты - 4444 4444 4444 4441, Месяц - 07, Год - 24, CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка под полем ввода "Неверный формат "

**Тест-кейс 4:** Отправка формы заявки со спецсимволами или цифрами в поле "Владелец"

Шаг 1: В поле "Владелец" вводим спецсимволы  (№;;%:?*)

Шаг 2: В поле "Владелец" вводим цифры (12365458)

**_Ожидаемый результат:_** Невозможно ввести спецсимволы или цифры, поле "Владелец" блокируется

**Тест-кейс 5:** Отправка формы заявки с граничными значениями поле "Владелец"

Шаг 1: В поле "Владелец" вводим 1 символ (I)

Шаг 2: Остальные поля заполняем валидными данными (Номер карты - 4444 4444 4444 4441, Месяц - 07, Год - 24, CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка под полем ввода "Неверный формат"

**Тест-кейс 6:** Отправка формы заявки с невалидными данными в поле "Номер карты"

Шаг 1: В поле "Номер карты" вводим невалидные данные (2845 5067 6555 7536)

Шаг 2: Остальные поля заполняем валидными данными (Месяц - 07, Год - 24, Владелец – Ivan Sidorov, CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка "Ошибка! Банк отказал в проведении операции"

**Тест-кейс 7:** Отправка формы заявки с граничными значениями (менее 16 цифр) в поле "Номер карты"

Шаг 1: В поле "Номер карты" вводим менее 16 цифр (4444 4444 4444)

Шаг 2: Остальные поля заполняем валидными данными (Месяц - 07, Год - 24, Владелец – Ivan Sidorov, CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка под полем ввода "Неверный формат"

**Тест-кейс 8:** Отправка формы заявки с граничными значениями (более 16 цифр) в поле "Номер карты"

Шаг 1: В поле "Номер карты" вводим более 16 цифр (4444 4444 4444 4441123)

**_Ожидаемый результат:_** Невозможно ввести более 16 цифр, поле "Номер карты" блокируется

**Тест-кейс 9:** Отправка формы заявки со спецсимволами или буквами (латиница или кириллица) в поле "Номер карты"

Шаг 1: В поле "Номер карты" вводим спецсимволы  (№;;%:?*»№;%)

Шаг 2: В поле "Номер карты" вводим буквы (ИвановПетрова или IvanovPetrova)

**_Ожидаемый результат:_** Невозможно ввести спецсимволы или буквы, поле "Номер карты" блокируется

**Тест-кейс 10:** Отправка формы заявки с невалидными данными в полем "Месяц"

Шаг 1: В поле "Месяц" вводим цифру до 10, не ставя впереди 0

Шаг 2: Остальные поля заполняем валидными данными (Номер карты - 4444 4444 4444 4441, Год - 24, Владелец – Ivan Sidorov,
CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка под полем ввода "Неверный формат"

**Тест-кейс 11:** Отправка формы заявки с невалидным сроком карты в поле "Месяц"

Шаг 1: В поле "Месяц" вводим цифры 13 и более (25)

Шаг 2: Остальные поля заполняем валидными данными (Номер карты - 4444 4444 4444 4441, Год - 24, Владелец – Ivan Sidorov,
CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка “Ошибка! Неверно указан срок действия карты"

**Тест-кейс 12:** Отправка формы заявки с граничными значениями (более 2 цифр) в поле "Месяц"

Шаг 1: В поле "Месяц" вводим более 2 цифр (023)

**_Ожидаемый результат:_** Невозможно ввести более 2 цифр, поле "Месяц" блокируется

**Тест-кейс 13:** Отправка формы заявки со спецсимволами или буквами (латиница или кириллица) в поле "Месяц"

Шаг 1: В поле "Месяц" вводим спецсимволы  (№%)

Шаг 2: В поле "Месяц" вводим буквы (Ив или Iv)

**_Ожидаемый результат:_** Невозможно ввести спецсимволы или буквы, поле "Месяц" блокируется

**Тест-кейс 14:** Отправка формы заявки с невалидными данными (год меньше текущего) в поле "Год"

Шаг 1: В поле "Год" вводим год меньше текущего (19)

Шаг 2: Остальные поля заполняем валидными данными (Номер карты - 4444 4444 4444 4441, Месяц - 07, Владелец – Ivan
Sidorov, CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка "Ошибка! Cрок действия карты истек"

**Тест-кейс 15:** Отправка формы заявки с невалидными данными (год превышает действие карты) в поле "Год"

Шаг 1: В поле "Год" вводим год, чтобы дата превышала срок действия карты (29)

Шаг 2: Остальные поля заполняем валидными данными (Номер карты - 4444 4444 4444 4441, Месяц - 07, Владелец – Ivan
Sidorov, CVC/CVV - 545)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка “Ошибка! Неверно указан срок действия карты"

**Тест-кейс 16:** Отправка формы заявки с граничными значениями (более 2 цифр) в поле "Год"

Шаг 1: В поле "Год" вводим более 2 цифр (245)

**_Ожидаемый результат:_** Невозможно ввести более 2 цифр, поле "Год" блокируется

**Тест-кейс 17:** Отправка формы заявки со спецсимволами или буквами (латиница или кириллица) в поле "Год"

Шаг 1: В поле "Год" вводим спецсимволы  (№%)

Шаг 2: В поле "Год" вводим буквы (Ив или Iv)

**_Ожидаемый результат:_** Невозможно ввести спецсимволы или буквы, поле "Год" блокируется

**Тест-кейс 18:** Отправка формы заявки с граничными значениями (более 3 цифр) в поле "CVC/CVV"

Шаг 1: В поле "CVC/CVV" вводим более 3 цифр (2454)

**_Ожидаемый результат:_** Невозможно ввести более 3 цифр, поле "CVC/CVV" блокируется

**Тест-кейс 19:** Отправка формы заявки с граничными значениями (менее 3 цифр) в поле "CVC/CVV"

Шаг 1: В поле "CVC/CVV" вводим менее 2 цифр (22)

Шаг 2: Остальные поля заполняем валидными данными (Номер карты - 4444 4444 4444 4441, Месяц - 07, Год - 24, Владелец –
Ivan Sidorov)

Шаг 3: Нажимаем кнопку "Продолжить"

**_Ожидаемый результат:_** Отображается ошибка под полем ввода "Неверный формат"

**Тест-кейс 20:** Отправка формы заявки со спецсимволами или буквами (латиница или кириллица) в поле "CVC/CVV"

Шаг 1: В поле "CVC/CVV" вводим спецсимволы  (№%№)

Шаг 2: В поле "CVC/CVV" вводим буквы (Ивa или Iva)

**_Ожидаемый результат:_** Невозможно ввести спецсимволы или буквы, поле "CVC/CVV" блокируется
</details>

## 2. Перечень используемых инструментов с обоснованием выбора:

* _Java JDK 11 или выше_ – мощный объектно-ориентированный язык программирования с обширным набором библиотек,
  общепринятое базовое средство автоматизации тестирования;
* _IntelliJ IDEA_ - среда разработки для различных языков, совместимая с различными инструментами и возможностью их
  комбинирования и настройки под конкретный случай;
* _JUnit5_ - тестовый фреймворк, совместимый с JVM, содержит необходимые аннотации и assert’ы;
* _Gradle_ - система сборки проекта. Преимущества данной сборки: проще подключать зависимости, меньше кода, гибкость
  системы;
* _Lombok_ - плагин для создания аннотаций, заменяющих значительное количество однообразных конструкторов, например:
  getters/setters;
* _Selenide_ - фреймворк для автоматизированного тестирования веб-приложений, подключение происходит автоматически,
  простое написание кода тестов;
* _Allure Report_ - система репортинга, которая позволяет гибко строить понятные отчеты о тестировании, а также
  автоматизирует сортировку тестов на баги, дефекты и сломанные тесты и отображает результат в TMS, багтрекере или в
  web-отчете;
* _Git_ - система контроля версий. Удобство, дает возможность одновременной параллельной разработки, есть интеграция с
  IntelliJ IDEA;
* _Faker_ - популярная библиотека-генератор данных. Позволяет создать различные данные автоматически с учетом местоположения, что позволяет экономить время, так как не надо придумывать данных и напрямую писать их в код;
* _Docker_ – платформа контейнеризации приложений, которая позволяет создавать контейнеры, автоматизировать их запуск и
  развертывание, управляет жизненным циклом, позволяет запускать на одной машине требуемое количество контейнеров.

## 3. Перечень и описание возможных рисков при автоматизации

* Проблемы с запуском приложения, подключением БД;
* Изменение структуры страницы (html, css) - недоступность css-селекторов для проверки;
* Некорректность тестовых данных при работе с Faker-системой;
* Увеличение стоимости автоматизации и поддержания автотестов.

## 4. Интервальная оценка с учётом рисков (в часах)

* Разработка плана тестирования - 8 часов;
* Подготовка необходимых инструментов, написание кода автотестов - 64 часа;
* Подготовка отчетной документации, баг-репортов - 12 часов;
* Запас в виде 24 часов на непредвиденные обстоятельства.

## 5. План сдачи работ

* Написание плана работ и настройка тестового окружения – 1 рабочий день (08/07/2023);
* Готовность автотестов - 8 рабочих дней после утверждения плана и разрешения вопросов (18/07/2023);
* Результат работы автотестов - документы по итогам тестирования (отчет по итогам тестирования + баг-репорты) - 3
  рабочих дня (21/07/2023);
* Подготовка отчёта по автоматизации - 3 рабочих для после проведения всех работ (23/07/2023)
